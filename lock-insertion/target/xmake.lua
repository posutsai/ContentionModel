target("input")
  set_default(true)
  set_kind("binary")
  set_languages("cxx14", "c99")
  set_toolchain("cxx", "/usr/local/bin/clang++")
  add_files("./target.cpp")
  set_targetdir("./bin")
  add_cxflags("-I/usr/local/lib/clang/10.0.0/include")
  add_ldflags("-lpthread")
  after_build(function (target)
    local compile_commands = import("util/compile_commands")
    compile_commands.make(target:scriptdir(), target)
  end)
target_end()
target("simple")
  set_default(true)
  set_kind("binary")
  set_languages("cxx14", "c99")
  set_toolchain("cxx", "/usr/local/bin/clang++")
  add_files("./simple.cpp")
  set_targetdir("./bin")
  add_cxflags("-I/usr/local/lib/clang/10.0.0/include", "-fparse-all-comments")
  after_build(function (target)
    local compile_commands = import("util/compile_commands")
    compile_commands.make(target:scriptdir(), target)
  end)
target_end()
